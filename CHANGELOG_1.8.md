# Changelog v1.8.x - Creator System & Payment Flow

## Version 1.8.3 (2026-01-02)
### üìö Documentation
- –°—Ç–≤–æ—Ä–µ–Ω–æ –ø–æ–≤–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (TESTING.md)
- –î–æ–¥–∞–Ω–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è creator dashboard
- –î–æ–¥–∞–Ω–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è Gumroad payment flow
- SQL –∑–∞–ø–∏—Ç–∏ –¥–ª—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

## Version 1.8.2 (2026-01-02)
### ‚ú® Frontend Improvements
- **Wallet Return Page**: –ø–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ UX
  - –†–æ–∑–¥—ñ–ª–µ–Ω–æ –ª–æ–≥—ñ–∫—É countdown —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É
  - –î–æ–¥–∞–Ω–æ –∑–∞—Ç—Ä–∏–º–∫—É 3 —Å–µ–∫ –ø–µ—Ä–µ–¥ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º (—á–∞—Å –¥–ª—è webhook)
  - –î–æ–¥–∞–Ω–æ toast –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
  - –ó–∞–≤–∂–¥–∏ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ wallet –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

## Version 1.8.1 (2026-01-02)
### üîí Security & Access Control
**Backend:**
- –î–æ–¥–∞–Ω–æ `is_creator` –ø–æ–ª–µ –≤ `UserResponse` schema
- –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ —É `get_creator_balance_info`
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π –º–µ—Ç–æ–¥ `cache.setex` ‚Üí `cache.set(ttl=...)`
- `CreatorProductResponse.title` —Ç–µ–ø–µ—Ä Optional

**Frontend:**
- **Creator Dashboard**: –¥–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Å—Ç–∞—Ç—É—Å—É –ø–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
  - –í–∏–∫–ª–∏–∫ `refreshUser()` –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å—É
  - –ü–æ–∫–∞–∑ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –¥–ª—è –Ω–µ-–∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤
  - –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫
- **Profile Page**: –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —É–º–æ–≤–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–µ–Ω—é
  - –ù–µ-–∫—Ä–µ–∞—Ç–æ—Ä–∏: "–°—Ç–∞—Ç–∏ –∫—Ä–µ–∞—Ç–æ—Ä–æ–º"
  - –ö—Ä–µ–∞—Ç–æ—Ä–∏: "–ö–∞–±—ñ–Ω–µ—Ç –∫—Ä–µ–∞—Ç–æ—Ä–∞"
- **Wallet Page**: –¥–æ–¥–∞–Ω–æ –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑ Gumroad
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ `sale_id`/`permalink`
  - –ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É —á–µ—Ä–µ–∑ 3 —Å–µ–∫
  - Toast –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –ø—Ä–æ —É—Å–ø—ñ—Ö
  - –û—á–∏—â–µ–Ω–Ω—è URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

## Version 1.8.0 (2026-01-02)
### üé® Creator System
**–ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:**
- –°–∏—Å—Ç–µ–º–∞ –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤ –∑ –≤–ª–∞—Å–Ω–∏–º dashboard
- –ó–∞—è–≤–∫–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å –∫—Ä–µ–∞—Ç–æ—Ä–∞
- –ë–∞–ª–∞–Ω—Å –∫—Ä–µ–∞—Ç–æ—Ä–∞ —Ç–∞ –≤–∏–≤–µ–¥–µ–Ω–Ω—è –∫–æ—à—Ç—ñ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂—ñ–≤ —Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∫—Ä–µ–∞—Ç–æ—Ä–∞–º–∏

**Backend:**
- –ù–æ–≤—ñ –º–æ–¥–µ–ª—ñ: `CreatorApplication`, `CreatorProduct`
- –ù–æ–≤—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏:
  - `POST /api/v1/creators/apply` - –ø–æ–¥–∞—Ç–∏ –∑–∞—è–≤–∫—É
  - `GET /api/v1/creators/status` - —Å—Ç–∞—Ç—É—Å –∫—Ä–µ–∞—Ç–æ—Ä–∞
  - `GET /api/v1/creators/balance` - –±–∞–ª–∞–Ω—Å –∫—Ä–µ–∞—Ç–æ—Ä–∞
  - `POST /api/v1/creators/withdraw` - –≤–∏–≤–µ–¥–µ–Ω–Ω—è –∫–æ—à—Ç—ñ–≤
  - `GET /api/v1/creators/products` - –ø—Ä–æ–¥—É–∫—Ç–∏ –∫—Ä–µ–∞—Ç–æ—Ä–∞
  - `POST /api/v1/creators/products` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç

**Frontend:**
- –°—Ç–æ—Ä—ñ–Ω–∫–∞ `/become-creator` - —Ñ–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏
- –°—Ç–æ—Ä—ñ–Ω–∫–∞ `/creator/dashboard` - –∫–∞–±—ñ–Ω–µ—Ç –∫—Ä–µ–∞—Ç–æ—Ä–∞
- –°—Ç–æ—Ä—ñ–Ω–∫–∞ `/profile/wallet/return` - –æ–±—Ä–æ–±–∫–∞ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑ Gumroad
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è Gumroad –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –º–æ–Ω–µ—Ç

---

## üîÑ Migration Path

### –í—ñ–¥ 1.7.x –¥–æ 1.8.x:

1. **–û–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
```bash
git pull origin main
make build
```

2. **–í–∏–∫–æ–Ω–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó:**
```bash
make migrate
```

3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ .env:**
```bash
# –î–æ–¥–∞–π—Ç–µ —è–∫—â–æ –Ω–µ–º–∞—î:
MARKETPLACE_ENABLED=true
GUMROAD_WEBHOOK_SECRET=your_secret_here
```

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å–∏:**
```bash
make restart
```

---

## üß™ Testing Checklist

- [ ] Creator dashboard –ø–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É –¥–ª—è –Ω–µ-–∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤
- [ ] Creator dashboard –ø—Ä–∞—Ü—é—î –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤
- [ ] –ü–æ–∫—É–ø–∫–∞ –º–æ–Ω–µ—Ç —á–µ—Ä–µ–∑ Gumroad –ø—Ä–∞—Ü—é—î
- [ ] –ë–∞–ª–∞–Ω—Å –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏
- [ ] Return page –ø–æ–∫–∞–∑—É—î —É—Å–ø—ñ—Ö —Ç–∞ —Ä–µ–¥—ñ—Ä–µ–∫—Ç
- [ ] Profile menu –ø–æ–∫–∞–∑—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø—É–Ω–∫—Ç

–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: [TESTING.md](TESTING.md)

---

## üêõ Bug Fixes

### 1.8.1
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–¥–≤—ñ–π–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—É–Ω–∫—Ç—ñ–≤ –º–µ–Ω—é –≤ profile
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π –º–µ—Ç–æ–¥ –∫–µ—à—É–≤–∞–Ω–Ω—è
- –î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É –¥–æ dashboard

### 1.8.2
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ race condition –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –±–∞–ª–∞–Ω—Å—É
- –ü–æ–∫—Ä–∞—â–µ–Ω–æ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫ –Ω–∞ return page

---

## üìù Breaking Changes

**–ù–µ–º–∞—î breaking changes** - –≤—Å—ñ –∑–º—ñ–Ω–∏ –∑–≤–æ—Ä–æ—Ç–Ω–æ —Å—É–º—ñ—Å–Ω—ñ.

---

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

### –ó–∞–ø–ª–∞–Ω–≤–∞–Ω–æ –¥–ª—è v1.9.x:
- [ ] Email –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤
- [ ] –û–≥–ª—è–¥–∏ —Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥–∏ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
- [ ] –†–æ–∑—à–∏—Ä–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–≤–µ–¥–µ–Ω–Ω—è –∫–æ—à—Ç—ñ–≤
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–Ω–æ–∂–∏–Ω–∏ —Ñ–∞–π–ª—ñ–≤ —É –ø—Ä–æ–¥—É–∫—Ç—ñ

---

## üë• Contributors

- **Claude Sonnet 4.5** - AI Assistant
- **Dmytro** - Project Owner

---

## üìÑ License

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —î –ø—Ä–∏–≤–∞—Ç–Ω–∏–º. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.

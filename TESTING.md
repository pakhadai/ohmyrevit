# Testing Guide - Version 1.8.x

## –û—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ (1.8.0 - 1.8.2)

### –©–æ –±—É–ª–æ –¥–æ–¥–∞–Ω–æ:
1. **Creator System** - —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤ –∑ –≤–ª–∞—Å–Ω–∏–º dashboard
2. **Wallet Return Page** - —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –æ–±—Ä–æ–±–∫–∏ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ Gumroad
3. **Creator Access Control** - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É –¥–æ dashboard
4. **is_creator field** - –¥–æ–¥–∞–Ω–æ –ø–æ–ª–µ is_creator –≤ UserResponse

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Creator Dashboard

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏:
- Docker Desktop –∑–∞–ø—É—â–µ–Ω–∏–π
- –í—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –ø—Ä–∞—Ü—é—é—Ç—å (`make dev` –∞–±–æ `docker-compose up`)
- –£ –≤–∞—Å —î —Ç–µ—Å—Ç–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á

### –¢–µ—Å—Ç 1: –î–æ—Å—Ç—É–ø –¥–ª—è –Ω–µ-–∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –Ω–µ-–∫—Ä–µ–∞—Ç–æ—Ä–∏ –Ω–µ –º–æ–∂—É—Ç—å –∑–∞–π—Ç–∏ –Ω–∞ dashboard

**–ö—Ä–æ–∫–∏:**
1. –£–≤—ñ–π–¥—ñ—Ç—å —è–∫ –∑–≤–∏—á–∞–π–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á (–Ω–µ –∫—Ä–µ–∞—Ç–æ—Ä)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `/creator/dashboard`

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: "–£ –≤–∞—Å –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ –∫–∞–±—ñ–Ω–µ—Ç—É –∫—Ä–µ–∞—Ç–æ—Ä–∞"
- –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥–∏ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ `/become-creator`

**–Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —É –∫–æ–¥—ñ:**
```typescript
// frontend/app/creator/dashboard/page.tsx:71-78
const status = await creatorsAPI.getStatus();
if (!status.is_creator) {
  setError('–£ –≤–∞—Å –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É...');
  setTimeout(() => router.push('/become-creator'), 2000);
}
```

### –¢–µ—Å—Ç 2: –î–æ—Å—Ç—É–ø –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –∫—Ä–µ–∞—Ç–æ—Ä–∏ –±–∞—á–∞—Ç—å dashboard –∑ –¥–∞–Ω–∏–º–∏

**–ö—Ä–æ–∫–∏:**
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫—Ä–µ–∞—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ admin panel –∞–±–æ –ë–î:
   ```sql
   UPDATE users SET is_creator = true WHERE id = YOUR_USER_ID;
   ```
2. –£–≤—ñ–π–¥—ñ—Ç—å —è–∫ –∫—Ä–µ–∞—Ç–æ—Ä
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `/creator/dashboard`

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Dashboard –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –±–∞–ª–∞–Ω—Å –∫—Ä–µ–∞—Ç–æ—Ä–∞
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π

### –¢–µ—Å—Ç 3: Profile Page - –º–µ–Ω—é –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤ –ø—Ä–æ—Ñ—ñ–ª—ñ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø—É–Ω–∫—Ç –º–µ–Ω—é

**–î–ª—è –Ω–µ-–∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤:**
- –ü–æ–≤–∏–Ω–µ–Ω –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏—Å—å –ø—É–Ω–∫—Ç: "–°—Ç–∞—Ç–∏ –∫—Ä–µ–∞—Ç–æ—Ä–æ–º" ‚Üí `/become-creator`

**–î–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤:**
- –ü–æ–≤–∏–Ω–µ–Ω –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏—Å—å –ø—É–Ω–∫—Ç: "–ö–∞–±—ñ–Ω–µ—Ç –∫—Ä–µ–∞—Ç–æ—Ä–∞" ‚Üí `/creator/dashboard`

**–Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:**
```typescript
// frontend/app/profile/page.tsx:250-270
user?.is_creator
  ? [{ href: '/creator/dashboard', label: '–ö–∞–±—ñ–Ω–µ—Ç –∫—Ä–µ–∞—Ç–æ—Ä–∞', ... }]
  : [{ href: '/become-creator', label: '–°—Ç–∞—Ç–∏ –∫—Ä–µ–∞—Ç–æ—Ä–æ–º', ... }]
```

---

## üí∞ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Gumroad Payment Flow

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏:
- Gumroad webhook –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π (`GUMROAD_WEBHOOK_SECRET` –≤ .env)
- Backend URL –¥–æ—Å—Ç—É–ø–Ω–∏–π –ø—É–±–ª—ñ—á–Ω–æ (–¥–ª—è webhook)
- –Ñ —Ç–µ—Å—Ç–æ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç –Ω–∞ Gumroad

### –¢–µ—Å—Ç 4: –ü–æ–∫—É–ø–∫–∞ –º–æ–Ω–µ—Ç —á–µ—Ä–µ–∑ Gumroad

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–µ—Å—å flow –≤—ñ–¥ –ø–æ–∫—É–ø–∫–∏ –¥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `/profile/wallet`
2. –í–∏–±–µ—Ä—ñ—Ç—å –ø–∞–∫–µ—Ç –º–æ–Ω–µ—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 100 –º–æ–Ω–µ—Ç –∑–∞ $1)
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–æ–ø–æ–≤–Ω–∏—Ç–∏"
4. –û–ø–ª–∞—Ç—ñ—Ç—å —á–µ—Ä–µ–∑ Gumroad (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É –∫–∞—Ä—Ç–∫—É)
5. –ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –≤–∞—Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ `/profile/wallet/return?sale_id=XXX`

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

**–ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ `/profile/wallet/return`:**
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è —ñ–∫–æ–Ω–∫–∞ —É—Å–ø—ñ—Ö—É (–∑–µ–ª–µ–Ω–∞ –≥–∞–ª–æ—á–∫–∞)
- –¢–µ–∫—Å—Ç: "–û–ø–ª–∞—Ç–∞ —É—Å–ø—ñ—à–Ω–∞!"
- –¢–∞–π–º–µ—Ä: "–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥..."
- Countdown –≤—ñ–¥ 3 –¥–æ 0

**–ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ `/profile/wallet`
- Toast –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: "–û–ø–ª–∞—Ç–∞ —É—Å–ø—ñ—à–Ω–∞! –ë–∞–ª–∞–Ω—Å –æ–Ω–æ–≤–ª–µ–Ω–æ."
- –ë–∞–ª–∞–Ω—Å –æ–Ω–æ–≤–ª–µ–Ω–∏–π (–¥–æ–¥–∞–ª–∏—Å—å –º–æ–Ω–µ—Ç–∏)

**–Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ backend logs:**
```bash
docker-compose logs -f backend | grep -i gumroad
```

–®—É–∫–∞–π—Ç–µ:
- `Received Gumroad webhook for sale_id: XXX`
- `Transaction created successfully`
- `Balance updated: +100 coins`

### –¢–µ—Å—Ç 5: Return page –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—î –≤–∏–ø–∞–¥–æ–∫ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞–ø—Ä—è–º—É –Ω–∞ `/profile/wallet/return` (–±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤)

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è loader
- –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥–∏ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ `/profile/wallet`

### –¢–µ—Å—Ç 6: –ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫

**–Ø–∫ –µ–º—É–ª—é–≤–∞—Ç–∏:**
1. –í–∏–º–∫–Ω—ñ—Ç—å backend (`docker-compose stop backend`)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `/profile/wallet/return?sale_id=test123`

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è countdown
- –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏ –∑'—è–≤–ª—è—î—Ç—å—Å—è error toast: "–ù–µ –≤–¥–∞–ª–æ—Å—è –æ–Ω–æ–≤–∏—Ç–∏ –±–∞–ª–∞–Ω—Å"
- –í—Å–µ –æ–¥–Ω–æ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ `/profile/wallet`

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Backend

### –¢–µ—Å—Ç 7: API Endpoint `/api/v1/creators/status`

**–ó–∞–ø–∏—Ç:**
```bash
curl -X GET "http://localhost:8000/api/v1/creators/status" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å (–Ω–µ-–∫—Ä–µ–∞—Ç–æ—Ä):**
```json
{
  "is_creator": false,
  "has_pending_application": false,
  "application": null,
  "creator_balance": 0
}
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å (–∫—Ä–µ–∞—Ç–æ—Ä):**
```json
{
  "is_creator": true,
  "has_pending_application": false,
  "application": null,
  "creator_balance": 1500
}
```

### –¢–µ—Å—Ç 8: API Endpoint `/api/v1/creators/balance`

**–ó–∞–ø–∏—Ç (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤):**
```bash
curl -X GET "http://localhost:8000/api/v1/creators/balance" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å (–∫—Ä–µ–∞—Ç–æ—Ä):**
```json
{
  "total_balance": 1500,
  "pending_balance": 0,
  "available_balance": 1500,
  "total_sales": 10,
  "total_revenue_usd": 150.00
}
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –ø–æ–º–∏–ª–∫–∞ (–Ω–µ-–∫—Ä–µ–∞—Ç–æ—Ä):**
```json
{
  "detail": "User is not a creator"
}
```

### –¢–µ—Å—Ç 9: Gumroad Webhook

**–†—É—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ webhook:**
```bash
curl -X POST "http://localhost:8000/api/webhooks/gumroad" \
  -H "Content-Type: application/json" \
  -d '{
    "sale_id": "test_sale_123",
    "product_id": "coins_pack_100",
    "email": "test@example.com",
    "price": 100,
    "currency": "USD",
    "custom_fields": {
      "user_id": "1"
    },
    "seller_id": "YOUR_GUMROAD_SELLER_ID"
  }'
```

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ logs:**
```bash
docker-compose logs backend | grep -A 10 "test_sale_123"
```

---

## üìù –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫

### Frontend:
- [ ] Creator dashboard –ø–æ–∫–∞–∑—É—î error –¥–ª—è –Ω–µ-–∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤
- [ ] Creator dashboard –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤
- [ ] Profile page –ø–æ–∫–∞–∑—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø—É–Ω–∫—Ç –º–µ–Ω—é
- [ ] Wallet return page –ø–æ–∫–∞–∑—É—î success + countdown
- [ ] Wallet return page –æ–Ω–æ–≤–ª—é—î –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ 3 —Å–µ–∫
- [ ] Wallet return page –ø–æ–∫–∞–∑—É—î error toast –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ
- [ ] Wallet return page —Ä–µ–¥—ñ—Ä–∏—Ç—å –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

### Backend:
- [ ] `/api/v1/creators/status` –ø–æ–≤–µ—Ä—Ç–∞—î is_creator
- [ ] `/api/v1/creators/balance` –ø—Ä–∞—Ü—é—î –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤
- [ ] `/api/v1/creators/balance` –ø–æ–≤–µ—Ä—Ç–∞—î 403 –¥–ª—è –Ω–µ-–∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤
- [ ] UserResponse –º—ñ—Å—Ç–∏—Ç—å –ø–æ–ª–µ is_creator
- [ ] Gumroad webhook –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ
- [ ] Transaction —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ –ë–î
- [ ] –ë–∞–ª–∞–Ω—Å –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–æ–∫—É–ø–∫–∏

### Database:
- [ ] –ü–æ–ª–µ `is_creator` —ñ—Å–Ω—É—î –≤ —Ç–∞–±–ª–∏—Ü—ñ `users`
- [ ] –¢–∞–±–ª–∏—Ü—è `creator_applications` —ñ—Å–Ω—É—î
- [ ] –¢–∞–±–ª–∏—Ü—è `creator_products` —ñ—Å–Ω—É—î
- [ ] Foreign keys –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –∫–æ—Ä–µ–∫—Ç–Ω–æ

---

## üêõ –í—ñ–¥–æ–º—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —ó—Ö –≤–∏—Ä—ñ—à–µ–Ω–Ω—è

### –ü—Ä–æ–±–ª–µ–º–∞: "Failed to refresh user"
**–ü—Ä–∏—á–∏–Ω–∞:** JWT token –∑–∞—Å—Ç–∞—Ä—ñ–≤ –∞–±–æ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π

**–†—ñ—à–µ–Ω–Ω—è:**
```typescript
// –û—á–∏—Å—Ç—ñ—Ç—å localStorage —Ç–∞ –ø–µ—Ä–µ–ª–æ–≥—ñ–Ω—å—Ç–µ—Å—å
localStorage.clear();
window.location.href = '/';
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–ª–∞–Ω—Å –Ω–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏
**–ü—Ä–∏—á–∏–Ω–∞:** Webhook –Ω–µ —Å–ø—Ä–∞—Ü—é–≤–∞–≤ –∞–±–æ –∑–∞—Ç—Ä–∏–º–∫–∞

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ backend logs: `docker-compose logs backend | grep -i webhook`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ GUMROAD_WEBHOOK_SECRET –≤ .env
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ BACKEND_URL –¥–æ—Å—Ç—É–ø–Ω–∏–π –ø—É–±–ª—ñ—á–Ω–æ
4. –°–ø—Ä–æ–±—É–π—Ç–µ –≤—Ä—É—á–Ω—É –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É —á–µ—Ä–µ–∑ 30 —Å–µ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "User is not a creator" –∞–ª–µ –≤ –ë–î is_creator = true
**–ü—Ä–∏—á–∏–Ω–∞:** Frontend –∫–µ—à –∑–∞—Å—Ç–∞—Ä—ñ–≤

**–†—ñ—à–µ–Ω–Ω—è:**
```typescript
// –í–∏–∫–ª–∏–∫–∞–π—Ç–µ refreshUser() –≤—Ä—É—á–Ω—É
const { refreshUser } = useAuthStore.getState();
await refreshUser();
```

---

## üìä SQL –∑–∞–ø–∏—Ç–∏ –¥–ª—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫—Ä–µ–∞—Ç–æ—Ä—ñ–≤:
```sql
SELECT id, telegram_id, username, is_creator, created_at
FROM users
WHERE is_creator = true;
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞—è–≤–∫–∏:
```sql
SELECT id, user_id, status, portfolio_url, created_at
FROM creator_applications
ORDER BY created_at DESC
LIMIT 10;
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó:
```sql
SELECT t.id, t.user_id, t.amount, t.type, t.description, t.created_at
FROM wallet_transactions t
JOIN users u ON t.user_id = u.id
WHERE t.type = 'topup'
ORDER BY t.created_at DESC
LIMIT 10;
```

### –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫—Ä–µ–∞—Ç–æ—Ä–∞:
```sql
UPDATE users
SET is_creator = true
WHERE telegram_id = 'YOUR_TELEGRAM_ID';
```

---

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
1. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ TODO –≤ –∫–æ–¥—ñ
2. ‚úÖ –î–æ–¥–∞—Ç–∏ unit tests –¥–ª—è creator service
3. ‚úÖ –î–æ–¥–∞—Ç–∏ E2E tests –¥–ª—è payment flow
4. ‚úÖ –û–Ω–æ–≤–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é API
5. ‚úÖ –î–æ–¥–∞—Ç–∏ Sentry error tracking
6. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ Gumroad webhook
